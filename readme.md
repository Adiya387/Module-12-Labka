Тема: Модуль 12 Диаграмма деятельности, Диаграмма последовательности

2.	Оптимизация процесса:
   2.1. Автоматизация проверки наличия товаров

Сейчас проверка выполняется системой при создании заказа.

Улучшение:

хранить в системе актуальные остатки по каждому товару;

при выборе товара сразу показывать клиенту статус: «в наличии / мало / под заказ»;

если товар заканчивается, система автоматически блокирует его добавление в корзину и предлагает аналоги.

Эффект: уменьшается количество ситуаций, когда после оформления заказа приходится пересобирать корзину из-за отсутствия части товаров.


2.2. Автоматизация уведомлений

Добавить единый модуль уведомлений, который:

отправляет клиенту сообщения о каждом ключевом событии:

товары недоступны → необходимо изменить заказ;

платёж отклонён → нужно повторить оплату;

заказ передан на сборку;

заказ готов к самовывозу;

заказ передан курьеру;

заказ доставлен и завершён.

поддерживает разные каналы: e-mail, SMS, мессенджер.

Эффект: клиент всегда понимает, на каком этапе находится заказ → меньше обращений в поддержку.


2.3. Оптимизация работы склада и курьеров

После завершения сборки система сразу:

передаёт данные в курьерскую службу (для доставки),

либо формирует уведомление о самовывозе.

Можно добавить:

приоритизацию заказов (по сроку доставки или статусу клиента),

контроль SLA: если заказ слишком долго в статусе «сборка» или «в доставке», система генерирует оповещение ответственным.


3. Документация: описание действий и ветвлений
   3.1. Последовательность действий

Этап 1. Обработка заказа

Клиент создаёт заказ на сайте.

Система получает данные заказа.

Система проверяет наличие всех товаров на складе.

Ветвление «Все товары в наличии?»:

Да → система подтверждает заказ и переводит его к этапу оплаты.

Нет → система формирует уведомление о недоступных товарах и отправляет его клиенту.

Клиент получает уведомление, изменяет заказ (удаляет/заменяет позиции) и повторно создаёт заказ. Цикл продолжается, пока не будут выбраны доступные товары.


Этап 2. Оплата заказа

Клиент выбирает способ оплаты (онлайн или при доставке).

Система обрабатывает выбранный способ оплаты.

Ветвление «Способ оплаты = онлайн?»:

Нет → система фиксирует «оплата при доставке» и переходит к этапу сборки.

Да → система отправляет платёжные данные в платёжный шлюз.

Платёжный шлюз проверяет платёж.

Ветвление «Платёж успешен?»:

Да → шлюз подтверждает платёж, система фиксирует успешный платёж.

Нет → шлюз отклоняет платёж, система формирует уведомление об ошибке оплаты и отправляет его клиенту. Клиент получает уведомление и повторяет оплату (возврат к выбору способа оплаты).


Этап 3. Сборка и доставка заказа

После подтверждения оплаты или фиксации оплаты при доставке:

Fork:

Склад получает заказ и начинает сборку заказа.

Система отправляет клиенту уведомление, что заказ принят в обработку.

После сборки заказа система получает данные от склада.

Ветвление «Способ доставки = курьер?»:

Нет (самовывоз):

склад подготавливает заказ к самовывозу;

система отправляет клиенту уведомление о готовности заказа к самовывозу;

клиент прибывает в пункт самовывоза и забирает заказ.

Да (курьер):

склад подготавливает заказ к передаче курьеру;

система создаёт заявку в курьерскую службу;

курьерская служба принимает заявку и назначает курьера;

курьер доставляет заказ клиенту.


Этап 4. Завершение заказа

Ветви самовывоза и доставки сходятся в merge-узле «Заказ получен?».

Клиент подтверждает получение заказа в системе.

Система завершает заказ.

Система отправляет клиенту электронный чек.

Клиент получает электронный чек.

Процесс заканчивается.

